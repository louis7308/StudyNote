![[Pasted image 20231110093055.png]]
현재 Theater는 너무 많은 의존성이 생겨 있다.
1. TickSeller는 생성자 의존성 주입을 통해 의존하고 있는 방향이고,
2. 다른 점선 화살표 부분은 코드에서 의존되어 사용되어 지는 부분이다.
```kotlin
class Theater(
	private val ticketSeller: TicketSeller // 의존성 주입 ( 생성자 주입 방식 )
) {
	fun enter(audience: Audience) { // audience 의존
		if(audience.bag.hasInvitation()) { // bag 의존
			val ticket = tickSeller.ticketOffice.ticket // tickOffice, ticket 의존
			audience.bag.ticket = ticket
		} else {
			val ticket = ticketSeller.ticketOffice.ticket
			audience.bag.minusAmout(ticket.fee)
			ticketSeller.ticketOffice.plusAmount(ticket.fee)
			audience.bag.ticket = ticket
		}
	}
}
```
한 눈에 봐도 매우 절차지향적이다.

로버트 마틴이 소프트웨어가 모듈성을 가져야 하는 3가지 기능에 관해 이렇게 말한다.
1. 모듈은 정삭적으로 실행되어야 한다.
2. 변경에 용이해야 한다
3. 이해하기 쉬워야 한다.

위의 코드는 필요한 기능을 오류 없이 정확하게 수행하고 있다 첫번째 요구사항은 맞지만
**변경 용이성과 이해하기 쉬워야 한다는 제약은 만족하지 못했다.**

